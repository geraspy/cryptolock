


üìù Roadmap: –ß—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
I. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –∫–ª—é—á–∞ (Key Derivation)
–°–µ–π—á–∞—Å —É –Ω–∞—Å –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤–≤–æ–¥ –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—è. –ù–∞–º –Ω—É–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø–∞—Ä–æ–ª—å –≤ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–π–º–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Fernet.

–ò–º–ø–æ—Ä—Ç KDF-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–∞:

Python

from cryptography.hazmat.primitives import hashes
from cryptography.hazmat.primitives.kdf.pbkdf2 import PBKDF2HMAC
from cryptography.hazmat.backends import default_backend
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–ª—é—á–∞ (KDF): –í–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (if hashed_attempter == stored_hash:), —Å–æ–∑–¥–∞—Ç—å –ª–æ–≥–∏–∫—É, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å –∏ —Å–æ–ª—å (salt, –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ Fernet-–∫–ª—é—á–∞.

II. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (Core Logic)
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∫–ª—é—á –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤, –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –≥–ª–∞–≤–Ω—É—é –∑–∞–¥–∞—á—É —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

–§—É–Ω–∫—Ü–∏—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è: –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é (encrypt_password), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∞—Ä–æ–ª—å –∏ –∫–ª—é—á, —à–∏—Ñ—Ä—É–µ—Ç –ø–∞—Ä–æ–ª—å —Å –ø–æ–º–æ—â—å—é Fernet –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∞–π—Ç—ã.

–§—É–Ω–∫—Ü–∏—è –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è: –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é (decrypt_password), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∫–ª—é—á, —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç –∏—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –ø–∞—Ä–æ–ª—å.

III. –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Storage & Interface)
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ—Å–ª–µ –¥–æ—Å—Ç—É–ø–∞: –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Ç—ã –ø–æ–ª—É—á–∏—à—å —Å–æ–æ–±—â–µ–Ω–∏–µ "–î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω!", —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø–æ–¥–º–µ–Ω—é, –ø—Ä–µ–¥–ª–∞–≥–∞—é—â–µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å

2. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ø–∞—Ä–æ–ª–∏

–õ–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É: –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Google") –∏ –ø–∞—Ä–æ–ª—å, –∑–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ (–ø—É–Ω–∫—Ç 3) –∏ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, vault.json) –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ.

–õ–æ–≥–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É: –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ vault.json, —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –ø–∞—Ä–æ–ª—å —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ (–ø—É–Ω–∫—Ç 4) –∏ –∫—Ä–∞—Å–∏–≤–æ –≤—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –∏—Ö –ø–∞—Ä–æ–ª–µ–π.




import hashlib  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—è (SHA-256).
from cryptography.fernet import Fernet  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–æ–ª–µ–π.

# --- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ —Ä–æ–±–∞—Å—Ç–Ω—ã–π –≤–≤–æ–¥ ---
while True:
    try:
        # –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –≤—ã–±–æ—Ä, —Å—Ä–∞–∑—É –ø—Ä–µ–æ–±—Ä–∞–∑—É—è –≤ —á–∏—Å–ª–æ.
        hallo = int(input("–í–≤–µ–¥–∏—Ç–µ:\n1. –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞—Ä–æ–ª—è–º\n(–ø—Ä–∏–≥–æ—Ç–æ–≤—å—Ç–µ –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å) \n2. –°–æ–∑–¥–∞—Ç—å –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å\n"))
        break  # –í—ã—Ö–æ–¥ –∏–∑ —Ü–∏–∫–ª–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤–≤–æ–¥–µ —á–∏—Å–ª–∞.
    except ValueError:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª –Ω–µ —á–∏—Å–ª–æ (—Ä–æ–±–∞—Å—Ç–Ω—ã–π –≤–≤–æ–¥).
        print("–í—ã –≤–≤–µ–ª–∏ –Ω–µ —á–∏—Å–ª–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")

# --- –ë–õ–û–ö 1: –î–û–°–¢–£–ü –ö –ü–ê–†–û–õ–Ø–ú ---
if hallo == 1:
    try:
        # –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª master.txt –≤ —Ä–µ–∂–∏–º–µ —á—Ç–µ–Ω–∏—è ('r').
        with open("master.txt", "r") as f:
            stored_hash = f.read()  # –ß–∏—Ç–∞–µ–º –≤–µ—Å—å —Ö–µ—à –∏–∑ —Ñ–∞–π–ª–∞.

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Edge Case: –µ—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç.
        if stored_hash == "":
            print("–°–Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å")
            return  # –ó–∞–≤–µ—Ä—à–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

        # –†–æ–±–∞—Å—Ç–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è –≤–≤–æ–¥–∞ –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—è –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
        while True:
            try:
                user_input_master = int(input("–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å:"))
                break  # –í—ã—Ö–æ–¥ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤–≤–æ–¥–µ —á–∏—Å–ª–∞.
            except ValueError:
                print("–í—ã –≤–≤–µ–ª–∏ –Ω–µ —á–∏—Å–ª–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")

        # –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á—Ç–æ–±—ã —Å—Ä–∞–≤–Ω–∏—Ç—å —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–º —Ö–µ—à–µ–º.
        # –®–∞–≥ 1: –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º int –≤ str, –®–∞–≥ 2: str –≤ –±–∞–π—Ç—ã ('utf-8').
        hashed_attempt = str(user_input_master).encode('utf-8')
        # –®–∞–≥ 3: –í—ã—á–∏—Å–ª—è–µ–º —Ö–µ—à SHA-256 –∏ –ø–æ–ª—É—á–∞–µ–º —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (hexdigest).
        hashed_attempter = hashlib.sha256(hashed_attempt).hexdigest()

        # –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Ö–µ—à–∏.
        if hashed_attempter == stored_hash:
            print("‚úÖ –î–æ—Å—Ç—É–ø —Ä–∞–∑—Ä–µ—à—ë–Ω!")
            # –ó–î–ï–°–¨ –ë–£–î–ï–¢ –õ–û–ì–ò–ö–ê –®–ò–§–†–û–í–ê–ù–ò–Ø –ò –î–ï–®–ò–§–†–û–í–ê–ù–ò–Ø –ü–ê–†–û–õ–ï–ô
        else:
            print("‚ùå –î–æ—Å—Ç—É–ø –æ—Ç–∫–ª–æ–Ω—ë–Ω!")

    except FileNotFoundError:
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è: –µ—Å–ª–∏ master.txt –Ω–µ –Ω–∞–π–¥–µ–Ω.
        print("–°–Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å")
        return  # –ó–∞–≤–µ—Ä—à–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.


# --- –ë–õ–û–ö 2: –°–û–ó–î–ê–ù–ò–ï –ú–ê–°–¢–ï–†-–ü–ê–†–û–õ–Ø ---
elif hallo == 2:
    # –†–æ–±–∞—Å—Ç–Ω—ã–π —Ü–∏–∫–ª –¥–ª—è –≤–≤–æ–¥–∞ –Ω–æ–≤–æ–≥–æ –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—è.
    while True:
        try:
            create_master = int(input("–í–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–¥—É–º–∞–Ω–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å:"))
            print(f"–ó–∞–ø–æ–º–Ω–∏—Ç–µ –∏–ª–∏ –∑–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –º–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å - {create_master}")

            # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—é: int -> str -> bytes.
            str_master = str(create_master).encode('utf-8')
            # –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ).
            hashed_master = hashlib.sha256(str_master).hexdigest()

            # –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–ø–∏—Å—å —Ö–µ—à–∞ –≤ —Ñ–∞–π–ª (w - —Ä–µ–∂–∏–º –∑–∞–ø–∏—Å–∏, –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç, –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç).
            with open("master.txt", "w") as f:
                f.write(hashed_master)
                break  # –£—Å–ø–µ—à–Ω–∞—è –∑–∞–ø–∏—Å—å, –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞.
        except ValueError:
            print("–í—ã –≤–≤–µ–ª–∏ –Ω–µ —á–∏—Å–ª–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.")

else:
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ hallo –Ω–µ —Ä–∞–≤–Ω–æ 1 –∏–ª–∏ 2 (–µ—Å–ª–∏ –±—ã –Ω–µ –±—ã–ª–æ try/except).
    pass